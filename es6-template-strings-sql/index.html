<!doctype html>
<html class="no-js" lang="en">
<head>
		<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>ES6 Template Strings For SQL</title>
	<link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive.css" />
	<script src="http://localhost:4000/assets/js/modernizr.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
  <script>
    WebFont.load({
      google: {
        families: [ 'Lato:400,700,400italic:latin', 'Work+Sans:400,700:latin' ]
      }
    });
  </script>

  <noscript>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css' />
  </noscript>

  <meta name="google-site-verification" content="hb0oFgJAnd2i2LvJYSEIofF5sc24xc8hx2tTNittvHA" />
	
	<meta name="description" content="Making SQL queries in JS using ES6 template strings." />

	<link rel="author" href="https://plus.google.com/u/0/103791827597799558729"/>

	



	
	<link rel="icon" sizes="32x32" href="http://localhost:4000/assets/img/favicon-32x32.png" />




	
	<link rel="icon" sizes="192x192" href="http://localhost:4000/assets/img/touch-icon-192x192.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000/assets/img/apple-touch-icon-180x180-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/img/apple-touch-icon-152x152-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/img/apple-touch-icon-144x144-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/img/apple-touch-icon-120x120-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/img/apple-touch-icon-114x114-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/img/apple-touch-icon-76x76-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/img/apple-touch-icon-72x72-precomposed.png" />




	
	<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/assets/img/apple-touch-icon-precomposed.png" />	




	
	<meta name="msapplication-TileImage" content="http://localhost:4000/assets/img/msapplication_tileimage.png" />




	
	<meta name="msapplication-TileColor" content="#fabb00" />



	<!-- Facebook Optimization -->
	<meta property="og:locale" content="en_EN" />
	
	<meta property="og:title" content="ES6 Template Strings For SQL" />
	<meta property="og:description" content="The portfolio and technical blog of Chris Henrick – provider of professional web development, data visualization, GIS, mapping, &amp; cartography services." />
	<meta property="og:url" content="http://localhost:4000//es6-template-strings-sql/" />
	<meta property="og:site_name" content="Chris Henrick – Web Development, Data Visualization, GIS, Maps, and Cartography" />
	

	

	<!-- Search Engine Optimization -->
	<meta name="description" content="">
	<meta name="google-site-verification" content="hb0oFgJAnd2i2LvJYSEIofF5sc24xc8hx2tTNittvHA">
	
	
	<link rel="author" href="https://plus.google.com/u/0/103791827597799558729">
	
	
	<link rel="canonical" href="http://localhost:4000/es6-template-strings-sql/">

	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@chrislhenrick">
	<meta name="twitter:creator" content="@chrislhenrick">
	<meta name="twitter:title" content="Chris Henrick – Web Development, Data Visualization, GIS, Maps, and Cartography">
	<meta name="twitter:description" content="The portfolio and technical blog of Chris Henrick – provider of professional web development, data visualization, GIS, mapping, & cartography services.">
	<meta name="twitter:image" content="http://localhost:4000/images/clhenrick-landing-header.jpg">
	

	<link type="text/plain" rel="author" href="http://localhost:4000/humans.txt" />

	

	
</head>

</head>
<body id="top-of-page" class="">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="http://localhost:4000" class="icon-tree"> Chris Henrick</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://localhost:4000/search/">Search</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://localhost:4000/contact/">Contact</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a href="http://localhost:4000/">clhenrick</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a href="http://localhost:4000/work/">Work</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://localhost:4000/about/">About</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://localhost:4000/about/cv/">CV</a></li>
                    

                      

                      <li><a href="http://localhost:4000/about/talks/">Talks</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://localhost:4000/blog/">Blog</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://localhost:4000/blog/archive/">Blog Archive</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	





	<div class="row t30">
	<div class="medium-8 columns medium-offset-2 end">
		<article itemscope itemtype="http://schema.org/Article">
			<header>
				

				<span itemprop="name">
					
					<h1>ES6 Template Strings For SQL</h1>
				</span>
			</header>


			
			<p class="teaser" itemprop="description">
				Making SQL queries in JS using ES6 template strings.
			</p>
			

			<span itemprop="articleSection">
			<p>One of my favorite features I’ve discovered recently while learning <a href="http://es6-features.org/#Constants">ES6</a> are <strong>Template Strings</strong> (officially known as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals</a>). Reason being is that using them is a huge improvement over of my previous method for writing SQL queries in Javascript, which was a huge PITA. This is something I tend to do fairly often when creating a custom web-map or data driven application, or when writing a Node.JS script to wrangle data. In either scenario I’m typically working with <a href="https://cartodb.com">CartoDB</a>’s <a href="http://docs.cartodb.com/cartodb-platform/sql-api/">SQL API</a> which lets you perform <code class="highlighter-rouge">GET</code> and <code class="highlighter-rouge">POST</code> requests to a PostgreSQL &amp; PostGIS database to retrieve or update data.</p>

<p>It wasn’t until a couple weeks ago after my colleague <a href="http://chriswhong.com/">Chris Wong</a> had <a href="https://twitter.com/chris_whong/status/725057071855591424">tweeted about the topic</a> that I started thinking it would be good to write a blog post about it.</p>

<p><img src="/images/chris-wong-tweet-sql-js.png" alt="screenshot of Chris Wong's tweet" /></p>

<p>For a simple query like <code class="highlighter-rouge">SELECT * FROM some_table;</code> writing it out in Javascript isn’t a big deal. However writing a more complex SQL query, while still keeping it human readable, is anything but fun. This is especially true for dynamically generated queries, for example using the <code class="highlighter-rouge">IN</code> operator on an array of values that are the result of some other process. It’s really a huge headache and involves a lot of string concatenation and debugging to make sure the query is valid. Sure, there are libraries that make creating SQL queries in Javascript easier such as <a href="https://github.com/jeremyevans/sequel">Sequel</a>, but as far as I’m aware of they don’t generate <em>spatial queries with PostGIS</em>, which is one of my go-to tools for geoprocessing or querying spatial data.</p>

<p>So, <strong>template strings</strong>. They make life easier when creating SQL queries in Javascript because they let you write out your SQL like you normally would. Here’s an example of a query that does a join on two tables.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">a</span><span class="p">.</span><span class="k">year</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">season</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">display_name</span>
<span class="k">FROM</span> <span class="n">table_one</span> <span class="n">a</span><span class="p">,</span> <span class="n">table_two</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">transmitter</span> <span class="k">AND</span> <span class="n">season</span> <span class="o">!=</span> <span class="s1">'other'</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">a</span><span class="p">.</span><span class="k">year</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">season</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">display_name</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">b</span><span class="p">.</span><span class="n">display_name</span><span class="p">,</span> <span class="k">year</span><span class="p">;</span></code></pre></figure>

<p>Previously, if I wanted to keep the SQL human readable in my JS code I would’ve done something like:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">tableOne</span> <span class="o">=</span> <span class="s1">'table_one'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">tableTwo</span> <span class="o">=</span> <span class="s1">'table_two'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="s2">"SELECT a.year, a.season, b.display_name "</span> <span class="o">+</span>
<span class="s2">"FROM "</span> <span class="o">+</span> <span class="nx">tableOne</span> <span class="o">+</span> <span class="s2">" a,"</span> <span class="o">+</span> <span class="nx">tableTwo</span>  <span class="s2">" b "</span> <span class="o">+</span>
<span class="s2">"WHERE a.id = b.transmitter AND season != 'other' "</span> <span class="o">+</span>
<span class="s2">"GROUP BY a.year, a.season, b.display_name "</span> <span class="o">+</span>
<span class="s2">"ORDER BY b.display_name, year;"</span></code></pre></figure>

<p>You have to be really careful when doing this and not to mention it’s pretty ugly, right? With ES6 template strings the above can simply become:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">tableOne</span> <span class="o">=</span> <span class="s1">'table_one'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">tableTwo</span> <span class="o">=</span> <span class="s1">'table_two'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">query</span> <span class="o">=</span> <span class="err">`</span>
  <span class="nx">SELECT</span> <span class="nx">a</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">season</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">display_name</span>
  <span class="nx">FROM</span> <span class="nx">$</span><span class="p">{</span><span class="nx">tableOne</span><span class="p">}</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">tableTwo</span><span class="p">}</span> <span class="nx">b</span>
  <span class="nx">WHERE</span> <span class="nx">a</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">transmitter</span> <span class="nx">AND</span> <span class="nx">season</span> <span class="o">!=</span> <span class="s1">'other'</span>
  <span class="nx">GROUP</span> <span class="nx">BY</span> <span class="nx">a</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">season</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">display_name</span>
  <span class="nx">ORDER</span> <span class="nx">BY</span> <span class="nx">b</span><span class="p">.</span><span class="nx">display_name</span><span class="p">,</span> <span class="nx">year</span><span class="p">;</span>
  <span class="err">`</span><span class="p">;</span></code></pre></figure>

<p>That’s much easier to write, read, and to avoid syntax errors in your SQL. There’s one catch though, if we were to log that template string as it is right now it would look like:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="s2">"  SELECT a.year, a.season, b.display_name
  FROM table_one a, table_two b
  WHERE a.id = b.transmitter AND season != 'other'
  GROUP BY a.year, a.season, b.display_name
  ORDER BY b.display_name, year;"</span></code></pre></figure>

<p>That’s not how we’d want to pass it off as part of the body to a <code class="highlighter-rouge">GET</code> request to our database. Although CartoDB’s API is fairly good a removing extra white space, the newline (<code class="highlighter-rouge">\n</code>) characters would screw up our query once the API attempts to run it on our database. However, there’s an easy way to deal with this problem: use a function that strips out those pesky <code class="highlighter-rouge">\n</code>’s and indentation space so that the template string becomes a single line string.</p>

<p>Thanks to stumbling across a terrific <a href="https://muffinresearch.co.uk/removing-leading-whitespace-in-es6-template-strings/">blog post</a> by the developer Stuart Colville, that function ends up looking like:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">export</span> <span class="kd">function</span> <span class="nx">singleLineString</span><span class="p">(</span><span class="nx">strings</span><span class="p">,</span> <span class="p">...</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>  
  <span class="c1">// Interweave the strings with the</span>
  <span class="c1">// substitution vars first.</span>
  <span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">+=</span> <span class="nx">strings</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="nx">output</span> <span class="o">+=</span> <span class="nx">strings</span><span class="p">[</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">];</span>

  <span class="c1">// Split on newlines.</span>
  <span class="kd">let</span> <span class="nx">lines</span> <span class="o">=</span> <span class="nx">output</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/</span><span class="se">(?:\r\n</span><span class="sr">|</span><span class="se">\n</span><span class="sr">|</span><span class="se">\r)</span><span class="sr">/</span><span class="p">);</span>

  <span class="c1">// Rip out the leading whitespace.</span>
  <span class="k">return</span> <span class="nx">lines</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">line</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">line</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">+/gm</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
  <span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">).</span><span class="nx">trim</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

<p>It could also work in the browser without using <a href="https://babeljs.io/">Babel</a> by writing it like this:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">singleLineString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">strings</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

  <span class="c1">// Interweave the strings with the</span>
  <span class="c1">// substitution vars first.</span>
  <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>  
    <span class="nx">output</span> <span class="o">+=</span> <span class="nx">strings</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="nx">output</span> <span class="o">+=</span> <span class="nx">strings</span><span class="p">[</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">];</span>

  <span class="c1">// Split on newlines.</span>
  <span class="kd">var</span> <span class="nx">lines</span> <span class="o">=</span> <span class="nx">output</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/</span><span class="se">(?:\r\n</span><span class="sr">|</span><span class="se">\n</span><span class="sr">|</span><span class="se">\r)</span><span class="sr">/</span><span class="p">);</span>

  <span class="c1">// Rip out the leading whitespace.</span>
  <span class="k">return</span> <span class="nx">lines</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">line</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">+/gm</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>  
  <span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">).</span><span class="nx">trim</span><span class="p">();</span>
<span class="p">};</span></code></pre></figure>

<p>To apply it to the above query we’d do this:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">singleLineString</span><span class="err">`</span>
  <span class="nx">SELECT</span> <span class="nx">a</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">season</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">display_name</span>
  <span class="nx">FROM</span> <span class="nx">$</span><span class="p">{</span><span class="nx">tableOne</span><span class="p">}</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">$</span><span class="p">{</span><span class="nx">tableTwo</span><span class="p">}</span> <span class="nx">b</span>
  <span class="nx">WHERE</span> <span class="nx">a</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">transmitter</span> <span class="nx">AND</span> <span class="nx">season</span> <span class="o">!=</span> <span class="s1">'other'</span>
  <span class="nx">GROUP</span> <span class="nx">BY</span> <span class="nx">a</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">season</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">display_name</span>
  <span class="nx">ORDER</span> <span class="nx">BY</span> <span class="nx">b</span><span class="p">.</span><span class="nx">display_name</span><span class="p">,</span> <span class="nx">year</span><span class="p">;</span>
  <span class="err">`</span><span class="p">;</span></code></pre></figure>

<p>Which then outputs a single line of text, the format we’d want it in to pass off to CartoDB’s SQL API:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="s2">"SELECT a.year, a.season, b.display_name FROM table_one a, table_two b WHERE a.id = b.transmitter AND season != 'other' GROUP BY a.year, a.season, b.display_name ORDER BY b.display_name, year;"</span></code></pre></figure>

<p>Tah dah! Another neat trick that I mentioned above when using the <code class="highlighter-rouge">IN</code> operator with an array of values may be demonstrated as follows:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="mi">456</span><span class="p">,</span> <span class="mi">789</span><span class="p">,</span> <span class="mi">12</span><span class="p">];</span>

<span class="kd">let</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">singleLineString</span><span class="err">`</span>
  <span class="nx">SELECT</span> <span class="o">*</span> <span class="nx">FROM</span> <span class="nx">table</span>
  <span class="nx">WHERE</span> <span class="nx">cartodb_id</span> <span class="nx">IN</span> <span class="p">(</span><span class="nx">$</span><span class="p">{</span><span class="nx">values</span><span class="p">});</span>
  <span class="err">`</span><span class="p">;</span></code></pre></figure>

<p>Using ES5 you would first have to convert your array into a string by doing something like <code class="highlighter-rouge">values.join(',');</code>. However with template strings <em>you can just pass the array in as is!</em> The above template string becomes:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">"SELECT * FROM table WHERE cartodb_id IN (123, 456, 789, 12);"</code></pre></figure>

<p>This method is especially useful when creating an <code class="highlighter-rouge">UPSERT</code> query on the fly. In my case I needed to run a script on a scheduler that stores the most recent data from another API in a CartoDB table and was very happy to not have to use string concatenation.</p>

<p>So there you have it! If you’re not using ES6 with Babel yet you can still give it a try using Node.JS, on  <a href="http://node.green/#template-literals">v4.4.2+</a>. I encourage you to give it a try if you haven’t already.</p>

<p>Happy SQL + JS ‘ing!</p>

			</span>

			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					
					<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="http://clhenrick.io/" target="_blank"> Chris Henrick</a></span>
				</span>
				

				
				<time class="icon-calendar pr20" datetime="2016-05-08" itemprop="datePublished"> 2016-05-08</time>
				

				<span class="icon-archive pr20"> </span>
				<br />
				<span class="pr20"><span class="icon-price-tag pr10"> Javascript</span> <span class="icon-price-tag pr10"> SQL</span> <span class="icon-price-tag pr10"> Node.JS</span> <span class="icon-price-tag pr10"> ES6</span> </span>
			</p>

			<div id="post-nav" class="row">
				
				<div class="small-4 columns text-center"><a class="button small radius prev" href="http://localhost:4000/using-the-js-modular-pattern/">&laquo; Using the Module Pattern in Javascript Programming</a></div><!-- /.small-4.columns -->
				
				<div class="small-4 columns text-center"><a class="radius button small" href="http://localhost:4000/blog/archive/" title="Blog Archive">Archive</a></div><!-- /.small-4.columns -->
				
				<div class="small-4 columns text-center"><a class="button small radius next" href="http://localhost:4000/aws-lambda-tile-generator/">Introducing the AWS Lambda Tiler &raquo;</a></div><!-- /.small-4.columns -->
				
			</div>
			</div><!--  /.page-meta -->
			

			
						
				<h3 id="comments" class="t60">Dialogue &amp; Discussion</h3>
				<div id="disqus_thread"></div>
				<script>
				    var disqus_config = function () {
				        this.page.url =  'http://localhost:4000'
				        this.page.identifier = '/es6-template-strings-sql/';
								this.page.title = 'ES6 Template Strings For SQL';
				    };
				    (function() {  // DON'T EDIT BELOW THIS LINE
				        var d = document, s = d.createElement('script');

				        s.src = '//clhenrick.disqus.com/embed.js';

				        s.setAttribute('data-timestamp', +new Date());
				        (d.head || d.body).appendChild(s);
				    })();
				</script>
				<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			

			
		</article>
	</div><!-- /.medium-8.columns -->


	


	
</div><!-- /.row -->


	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="">
              The portfolio and technical blog of Chris Henrick – provider of professional web development, data visualization, GIS, mapping, & cartography services.
              <a href="http://localhost:4000/about/">More ›</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Services</h5>
              
            
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href=""  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="/contact/"  title="Contact">Contact</a>
                  </li>
              
                
                  <li >
                    <a href="/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
                
                  <li >
                    <a href="/sitemap.xml"  title="Sitemap for Google Webmaster Tools">sitemap.xml</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Network</h5>
              
            
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href=""  title=""></a>
                </li>
            
              
                <li class="services-newsletter" >
                  <a href="http://foundation.zurb.com/" target="_blank"  title="Built on Foundation">Built on Foundation</a>
                </li>
            
              
                <li class="site-code" >
                  <a href="https://github.com/clhenrick/portfolio" target="_blank"  title="Code available on Github">Code on Github</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>
              Created with &hearts;
              by&nbsp;<a href="http://clhenrick.io/">Chris&nbsp;Henrick</a>
              using&nbsp;<a href="http://jekyllrb.com/" target="_blank">Jekyll</a>
              based&nbsp;on&nbsp;<a href="http://phlow.github.io/feeling-responsive/">Feeling&nbsp;Responsive</a>.
            </p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
              <li><a href="https://github.com/clhenrick" target="_blank" class="icon-github" title="Code"></a></li>
            
              <li><a href="https://twitter.com/chrislhenrick" target="_blank" class="icon-twitter" title="Twitter"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	

<!-- jQuery -->
<script src="http://localhost:4000/assets/js/javascript.min.js"></script>
<!-- lazy load -->
<script src="http://localhost:4000/assets/js/jquery.lazyload.min.js"></script>

<script type="text/javascript">
// make all external links open in a new browser tab
// code credit: https://css-tricks.com/snippets/jquery/open-external-links-in-new-window/
$(function(){
  $('a').each(function() {
     var a = new RegExp('/' + window.location.host + '/');
     if(!a.test(this.href)) {
         $(this).click(function(event) {
             event.preventDefault();
             event.stopPropagation();
             window.open(this.href, '_blank');
         });
     }
  });

  // lazy load images with class "lazy"
  $("img.lazy").lazyload({
    threshold: 200,
    effect: "fadeIn"
  });
});

</script>








<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69968207-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

</script>







</body>
</html>

